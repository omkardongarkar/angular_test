<div
  class="dropdown"
  [attr.aria-expanded]="isOpen"
  tabindex="0"
  role="combobox"
  aria-haspopup="listbox"
  [attr.aria-activedescendant]="isOpen ? 'option-' + selectedOption : null"
  (click)="toggleDropdown()"
  (keydown)="onKeyDown($event)"
>
  <div class="dropdown-header">
    <span class="dropdown-text">{{ selectedOption }}</span>
    <div class="dropdown-icon">
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="chevron-icon"
      >
        <g opacity="0.5">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.19526 9.52827C4.45561 9.26792 4.87772 9.26792 5.13807 9.52827L8 12.3902L10.8619 9.52827C11.1223 9.26792 11.5444 9.26792 11.8047 9.52827C12.0651 9.78862 12.0651 10.2107 11.8047 10.4711L8.4714 13.8044C8.21106 14.0648 7.78894 14.0648 7.5286 13.8044L4.19526 10.4711C3.93491 10.2107 3.93491 9.78862 4.19526 9.52827Z"
            fill="#171717"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M7.5286 2.19526C7.78894 1.93491 8.21106 1.93491 8.4714 2.19526L11.8047 5.5286C12.0651 5.78894 12.0651 6.21105 11.8047 6.4714C11.5444 6.73175 11.1223 6.73175 10.8619 6.4714L8 3.60948L5.13807 6.4714C4.87772 6.73175 4.45561 6.73175 4.19526 6.4714C3.93491 6.21105 3.93491 5.78894 4.19526 5.5286L7.5286 2.19526Z"
            fill="#171717"
          ></path>
        </g>
      </svg>
    </div>
  </div>

  <div
    class="dropdown-menu"
    *ngIf="isOpen"
    role="listbox"
    aria-label="Support agent options"
  >
    <div
      *ngFor="let option of options; let i = index"
      class="dropdown-item"
      [class.selected]="option === selectedOption"
      role="option"
      [id]="'option-' + option"
      [attr.aria-selected]="option === selectedOption"
      (click)="selectOption(option); $event.stopPropagation()"
    >
      {{ option }}
    </div>
  </div>
</div>
